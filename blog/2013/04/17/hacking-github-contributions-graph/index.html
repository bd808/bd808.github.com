
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hacking GitHub Contributions Calendar - bd808.com</title>
  <meta name="author" content="Bryan Davis">

  
  <meta name="description" content="GitHub profile pages include a neat visualization of commit history that they
call the &quot;contributions calendar&quot;. This 53x7 grid shows the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://bd808.com/blog/2013/04/17/hacking-github-contributions-graph">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="bd808.com" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <meta name="microid" content="mailto+http:sha1:316bf316a019352188fe08195c6eefe8a16e8458" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://casadebender.myopenid.com/" />
<link rel="openid2.local_id" href="http://casadebender.myopenid.com" />
<link rel="openid2.provider" href="http://www.myopenid.com/server" />
<meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=casadebender.myopenid.com" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-18797634-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">bd808.com</a></h1>
  
    <h2>FOSS in, FOSS out: software, process and operations</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:bd808.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Hacking GitHub Contributions Calendar</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-17T21:06:00-06:00" pubdate data-updated="true">2013-04-17</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>GitHub profile pages include a neat visualization of commit history that they
call the &quot;<a href="https://help.github.com/articles/viewing-contributions#contributions-calendar">contributions calendar</a>&quot;. This 53x7 grid shows the number of
commits and other GitHub interactions that the user performed on each day for
the last year.</p>

<p><img src="/images/blog/timeline.png" alt="Example graph"></p>

<p>Each cell in the graph is shaded with one of 5 possible colors. These colors
correspond to the <a href="https://en.wikipedia.org/wiki/Quartile">quartiles</a> of the <a href="https://en.wikipedia.org/wiki/Normal_distribution">normal distribution</a> over the range
<code>[0, max(v)]</code> where <code>v</code> is the sum of issues opened, pull requests proposed and commits authored per day.</p>

<!-- more -->

<p>If your all time high for the last year was 100 contributions in a single day,
the cells would color like this:</p>

<table><thead>
<tr>
<th align="left">Contributions</th>
<th align="center">Color</th>
</tr>
</thead><tbody>
<tr>
<td align="left">0</td>
<td align="center"><img src="/images/blog/eeeeee.png" alt="gray" title="#eeeeee"></td>
</tr>
<tr>
<td align="left">1  - 24</td>
<td align="center"><img src="/images/blog/d6e685.png" alt="pale green" title="#d6e685"></td>
</tr>
<tr>
<td align="left">25 - 49</td>
<td align="center"><img src="/images/blog/8cc665.png" alt="light green" title="#8cc665"></td>
</tr>
<tr>
<td align="left">50 - 74</td>
<td align="center"><img src="/images/blog/44a340.png" alt="green" title="#44a340"></td>
</tr>
<tr>
<td align="left">75+</td>
<td align="center"><img src="/images/blog/1e6823.png" alt="dark green" title="#1e6823"></td>
</tr>
</tbody></table>

<p>A tweet got me interested in the possibility of gaming the interaction data to
control the display:</p>

<p><blockquote class="twitter-tweet"><p>GitHub users might find this guy&#39;s contribution graph interesting/funny: <a href="https://t.co/xOFjLbqUK2" title="https://github.com/will">github.com/will</a></p>&mdash; Peter Cooper (@peterc) <a href="https://twitter.com/peterc/status/322636613018607617">April 12, 2013</a></blockquote><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<p><a href="https://github.com/will">@will</a> has done something to make his calendar spell &quot;WILL&quot; over and over.
Looking at his contribution activity list it was pretty obvious that this
trick had something to do with the <a href="https://github.com/will/githubprofilecheat">will/githubprofilecheat</a> and/or
<a href="https://github.com/will/githubprofilecheat2">will/githubprofilecheat2</a> repositories.</p>

<p>I did some digging in the <a href="http://git-scm.com/docs">git documentation</a> to see how hard it is to fake
the date on a commit. It turns out that it&#39;s as easy as setting an environment
variable. The <code>GIT_AUTHOR_DATE</code> and <code>GIT_COMMITTER_DATE</code> environment variables
can be used to provide <a href="http://git-scm.com/docs/git-commit-tree#_commit_information">git-commit-tree</a> with dates for the author and
commit dates that are attached to each commit object.</p>

<p>Armed with this bit of trivia I decided that I would try to do something
interesting with my contributions graph. I didn&#39;t just want to copy <a href="https://github.com/will">@will</a>
and write my name in the graph. I decided that I would pay homage to my
gravatar instead and make a series of <a href="https://en.wikipedia.org/wiki/Glider_%28Conway%27s_Life%29">gliders</a> that ran across the
timeline. The result of my experiment can be seen in the image at the top of
this post.</p>

<p>The script that I used to generate the commits with faked dates is available
in my <a href="https://github.com/bd808/profile-life">bd808/profile-life</a> repository.</p>

<p>The script takes the path to a pattern file and an optional start date as
arguments.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>./bin/pattern-to-commits.sh patterns/glider.cells 2012-04-15 | sh
</span></code></pre></td></tr></table></div></figure>

<p>The pattern file is expected to be in the <a href="http://www.conwaylife.com/wiki/Plaintext">plaintext</a> Life format. This
format allows you to specify an on/off pattern. When a cell is &quot;on&quot; the script
will output 23 commits (one per hour) for the corresponding day. &quot;Off&quot; cells
won&#39;t generate any commit activity.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>!Name: Profile Glider Train
</span><span class='line'>!A simulation of a glider cruising across the contributions timeline.
</span><span class='line'>O.O...O.O....O..................................................................
</span><span class='line'>.OO.O.O..OO...O.O.O...O.O....O..................................................
</span><span class='line'>.O...OO.OO..OOO..OO.O.O..OO...O.O.O...O.O....O..................................
</span><span class='line'>.................O...OO.OO..OOO..OO.O.O..OO...O.O.O...O.O....O..................
</span><span class='line'>.................................O...OO.OO..OOO..OO.O.O..OO...O.O.O...O.O....O..
</span><span class='line'>.................................................O...OO.OO..OOO..OO.O.O..OO...O.
</span><span class='line'>.................................................................O...OO.OO..OOO.
</span></code></pre></td></tr></table></div></figure>

<p>The script reads in this file a column at a time using the <code>cut</code> command. It
loops over the characters from the column and when it finds an <code>O</code> it echos
commit commands to stdout:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">GIT_AUTHOR_DATE</span><span class="o">=</span><span class="s1">&#39;2013-04-17T20:00&#39;</span> <span class="nv">GIT_COMMITTER_DATE</span><span class="o">=</span><span class="s1">&#39;2013-04-17T20:00&#39;</span> <span class="se">\</span>
</span><span class='line'>git commit --allow-empty -m <span class="s1">&#39;2013-04-17T20:00&#39;</span>
</span></code></pre></td></tr></table></div></figure>

<p>This output can be piped to bash to apply the commits to the repository.</p>

<p>An interesting extension of this script would be to support all 5 possible
colors. It would also be nice if the script read your current contribution
history to determine how many commits are necessary to hit the 4th quartile
every time. For now these additions are left as an exercise for the reader. :)</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Bryan Davis</span></span>

      








  


<time datetime="2013-04-17T21:06:00-06:00" pubdate data-updated="true">2013-04-17</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/github/'>github</a>, <a class='category' href='/blog/categories/hacks/'>hacks</a>, <a class='category' href='/blog/categories/howto/'>howto</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://bd808.com/blog/2013/04/17/hacking-github-contributions-graph/" data-via="" data-counturl="http://bd808.com/blog/2013/04/17/hacking-github-contributions-graph/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/04/14/using-github-issues-for-comments/" title="Previous Post: Using GitHub issues for comments">&laquo; Using GitHub issues for comments</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/10/14/managing-my-laptop-with-boxen/" title="Next Post: Managing my laptop with Boxen">Managing my laptop with Boxen &raquo;</a>
      
    </p>
  </footer>
</article>


<section id="comments">
  <header>
    <h2>Comments</h2>
    <p>Visit <a href="https://github.com/bd808/bd808.github.com/issues/13">this post's issue page on GitHub</a> to add a comment.</p>
  </header>
</section>

</div>

<aside class="sidebar">
  
    <section id="about-me">
  <h1>About</h1>
  <p><img src="https://secure.gravatar.com/avatar/6af4be9e5e433d21909a0eb60fc258bc.png" id="gravitar">Code and ramblings from Bryan Davis, coder, software architect, and
  highly opinionated geek.</p>
  <ul>
    <li><a href="https://www.linkedin.com/in/bd808">Résumé</a></li>
    <li><a href="http://claimid.com/bd808">Elsewhere on teh internets</a></li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/11/18/yaml-1-dot-1-1-pecl-module-released/">Yaml 1.1.1 PECL Module Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/27/planning-work-in-a-sprint/">Planning Work in a Sprint</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/21/creating-a-self-signed-code-certificate-for-xcode/">Creating a Self-signed Code Certificate for XCode</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/14/managing-my-laptop-with-boxen/">Managing My Laptop With Boxen</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/17/hacking-github-contributions-graph/">Hacking GitHub Contributions Calendar</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/bd808?count=5&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/bd808">My Delicious Bookmarks &raquo;</a></p>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
Copyright &copy; 2013 - Bryan Davis
<span class="credit basic-alignment right">Powered by <a href="http://octopress.org">Octopress</a> &amp; <a href="https://github.com">GitHub</a></span>
<span id="license">
  <a rel="license"
    href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative
    Commons License"
    src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png"></a> Except where
  otherwise noted, content on <span rel="cc:attributionURL"
    property="cc:attributionName" href="http://bd808.github.com">this
    site</span> is licensed under a <a rel="license"
    href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons
    Attribution-ShareAlike 3.0 Unported License</a>.</span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





<script type="text/javascript">
$.ajax({
    url: "https://api.github.com/repos/bd808/bd808.github.com/issues/13/comments"
  , method: "get"
  , headers: { Accept: "application/vnd.github.full+json" }
  , dataType: 'json'
  , error: function(e){}
  , success: function(resp){
      var cuser, cuserlink, clink, cbody, cavatarlink, cdate;
      for (var i=0; i<resp.length; i++) {
        cuser = resp[i].user.login;
        cuserlink = "https://github.com/" + resp[i].user.login;
        clink = "https://github.com/bd808/bd808.github.com/issues/13#issuecomment-" + resp[i].url.substring(resp[i].url.lastIndexOf("/")+1);
        cbody = resp[i].body_html;
        cavatarlink = resp[i].user.avatar_url;
        cdate = (new Date(resp[i].created_at)).toLocaleString();

        $("#comments").append('<div class="comment"><div class="comment-header"><a class="comment-user" href="' + cuserlink + '"><img class="comment-gravatar" src="' + cavatarlink + '" alt="" width="20" height="20"> ' + cuser + '</a><a class="comment-date" href="' + clink + '">' + cdate + '</a></div><div class="comment-body">' + cbody + '</div></div>');
      }
    }
});
</script>




</body>
</html>
